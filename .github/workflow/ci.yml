# å·¥ä½œæµåç§°ï¼Œä¸è®¾ç½®çš„è¯é»˜è®¤å–é…ç½®æ–‡ä»¶å
name: Build and Deploy
# æŒ‡å®šè§¦å‘ workflow çš„æ¡ä»¶ï¼Œå½“å‰æ˜¯ push äº‹ä»¶ 
on: [push]
# å·¥ä½œæµæ‰§è¡Œçš„ä¸€ä¸ªæˆ–å¤šä¸ªä»»åŠ¡
jobs:
  # ä»»åŠ¡åç§°
  build-and-deploy:
    # ä»»åŠ¡è¿è¡Œçš„å®¹å™¨ç±»å‹ï¼ˆè™šæ‹Ÿæœºç¯å¢ƒï¼‰
    runs-on: ubuntu-latest
    # ä»»åŠ¡æ‰§è¡Œçš„æ­¥éª¤
    steps:
      # æ­¥éª¤åç§°
      - name: Checkout ğŸ›ï¸
        # ä½¿ç”¨çš„æ“ä½œ actionsï¼Œå¯ä»¥ä½¿ç”¨å…¬å…±ä»“åº“ï¼Œæœ¬åœ°ä»“åº“ï¼Œåˆ«äººçš„ä»“åº“çš„action
        # æ‹‰å–ä»£ç 
        uses: actions/checkout@v2.3.1 # If you're using actions/checkout@v2 you must set persist-credentials to false in most cases for the deployment to work correctly.
        # è¾“å…¥å‚æ•°
        with:
          persist-credentials: false

      - name: Install and Build ğŸ”§ # This example project is built using npm and outputs the result to the 'build' folder. Replace with the commands required to build your project, or remove this step entirely if your site is pre-built.
        # ä½¿ç”¨æ“ä½œç³»ç»Ÿ shell ï¼Œåœ¨æ ¹ç›®å½•è¿è¡Œçš„å‘½ä»¤è¡Œç¨‹åº
        run: |
          npm install
          npm run build

      - name: Deploy ğŸš€
        # æ„å»ºå‘å¸ƒ Github pages
        uses: JamesIves/github-pages-deploy-action@3.5.9
        with:
          # è®¾ç½®é¡¹ç›®ä¸­è®¾ç½®çš„token - secrets.[name]
          GITHUB_TOKEN: ${{ secrets.MY_TOKEN }}
          # æŒ‡å®šéƒ¨ç½²çš„åˆ†æ”¯ï¼Œé»˜è®¤æ˜¯ gh-pages åˆ†æ”¯
          BRANCH: gh-pages # The branch the action should deploy to.
          # å­˜å‚¨åº“ä¸­è¦éƒ¨ç½²çš„æ–‡ä»¶å¤¹ã€‚
          # ä¹Ÿå°±æ˜¯ç¼–è¯‘åçš„é™æ€æ–‡ä»¶å­˜æ”¾ç›®å½•ï¼ŒGithub Pagesä¼šè®¿é—®è¿™ä¸ªç›®å½•çš„index.htmlæ–‡ä»¶ï¼ˆVue CLIé»˜è®¤ç¼–è¯‘åˆ° dist ç›®å½•ï¼‰
          # å¦‚æœæ‚¨çš„æ„å»ºè„šæœ¬ç¼–è¯‘åˆ°åä¸ºbuildçš„ç›®å½•ä¸­ï¼Œåˆ™å°†å…¶æ”¾åœ¨æ­¤å¤„ã€‚ æ–‡ä»¶å¤¹è·¯å¾„ä¸èƒ½ä»¥/å¼€å¤´ã€‚ å¦‚æœæ‚¨å¸Œæœ›éƒ¨ç½²æ ¹ç›®å½•ï¼Œåˆ™å¯ä»¥æ”¾ç½®ä¸€ä¸ªã€‚
          FOLDER: dist # The folder the action should deploy.